#!/usr/bin/env bash
find . -maxdepth 1 -type d -print0 | xargs -0 zoxide add

cd packages || return
find . -maxdepth 1 -type d -print0 | xargs -0 zoxide add

echo "ğŸ” Generating SSL certificates for Ladle"
cd ./ui || return
mkcert localhost

cd ../../apps || return
find . -maxdepth 1 -type d -print0 | xargs -0 zoxide add
cd ../
echo "ğŸ”— Setting NODE_ENV to production for server and web"
echo "NODE_ENV=production" >./server/.env
echo "NODE_ENV=production" >./web/.env

echo "ğŸ“¦ Installing dependencies"
pnpm i

echo "ğŸ‘· Building"
pnpm build
